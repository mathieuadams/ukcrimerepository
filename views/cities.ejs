<!DOCTYPE html>
<html lang="en-GB">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Browse UK Cities â€” CrimeSpotter UK</title>
  <meta name="description" content="Browse UK crime maps by city. View live police data, categories and trends for major cities across England, Wales and Northern Ireland.">
  <link rel="canonical" href="<%= baseUrl %>/cities">
  <link rel="alternate" hreflang="en-gb" href="<%= baseUrl %>/cities">
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='80' font-size='80'>ðŸš¨</text></svg>">

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="/css/styles.css">

  <style>
    .browse-container{max-width:1200px;margin:0 auto;padding:3rem 2rem}
    .browse-header{text-align:center;margin-bottom:2rem;padding-bottom:1.25rem;border-bottom:1px solid #e2e8f0}
    .browse-header h1{font-size:2rem;color:#1e293b;font-weight:700;margin:0 0 .5rem}
    .browse-subtitle{color:#64748b}
    .section-title{font-size:1.25rem;color:#1e293b;font-weight:600;margin:2rem 0 1rem;padding-bottom:.5rem;border-bottom:2px solid #3b82f6}
    .cities-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem 2rem;list-style:none;padding:0;margin:0}
    .cities-grid li{margin:0}
    .city-link{display:block;color:#475569;text-decoration:none;padding:.5rem 0;transition:color .2s}
    .city-link:hover{color:#3b82f6;text-decoration:underline}
    .popular-badge{display:inline-block;background:#fef3c7;color:#92400e;font-size:.75rem;padding:.125rem .5rem;border-radius:12px;margin-left:.5rem;font-weight:500}
    @media (max-width:1024px){.cities-grid{grid-template-columns:repeat(2,1fr)}}
    @media (max-width:768px){.cities-grid{grid-template-columns:1fr}}
  </style>

  <!-- Breadcrumbs + ItemList (top 24) -->
  <script type="application/ld+json">
  <%- JSON.stringify({
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
      { "@type":"ListItem","position":1,"name":"Home","item":`${baseUrl}/` },
      { "@type":"ListItem","position":2,"name":"Browse by City","item":`${baseUrl}/cities` }
    ]
  }) %>
  </script>
  <script type="application/ld+json">
  <%
    const allEntries = Object.entries(cities);
    const top = allEntries.slice(0, 24).map(([slug, c], i) => ({
      "@type":"ListItem",
      "position": i+1,
      "name": `${c.name} crime map`,
      "url": `${baseUrl}/city/${slug}`
    }));
  %>
  <%- JSON.stringify({
    "@context":"https://schema.org",
    "@type":"ItemList",
    "name":"UK city crime maps",
    "itemListElement": top
  }) %>
  </script>
</head>
<body>
  <%- include('partials/header') %>

  <main class="browse-container">
    <header class="browse-header">
      <h1>Browse By City</h1>
      <p class="browse-subtitle">Choose a city to view detailed crime statistics, categories and 9-month trends.</p>
    </header>

    <% const featuredSlugs = ['london','manchester','birmingham','leeds','liverpool','sheffield','bristol','newcastle','nottingham','cardiff']; %>
    <% const featured = featuredSlugs.filter(s => cities[s]); %>

    <section aria-labelledby="major-cities">
      <h2 id="major-cities" class="section-title">Major Cities</h2>
      <ul class="cities-grid">
        <% featured.forEach(slug => { const c = cities[slug]; %>
          <li>
            <a class="city-link" href="/city/<%= slug %>"><%= c.name %> crime map
              <% if (slug === 'london') { %><span class="popular-badge">Capital</span><% } %>
            </a>
          </li>
        <% }) %>
      </ul>
    </section>

    <section aria-labelledby="all-cities">
      <h2 id="all-cities" class="section-title">All Supported Cities</h2>
      <ul class="cities-grid">
        <% Object.entries(cities).forEach(([slug, c]) => { %>
          <li><a class="city-link" href="/city/<%= slug %>"><%= c.name %> crime map</a></li>
        <% }) %>
      </ul>
    </section>
  </main>

  <%- include('partials/footer') %>
</body>
</html>
